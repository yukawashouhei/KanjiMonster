//
//  MonsterPatterns.swift
//  KanjiMonster
//
//  Created by 湯川昇平 on 2026/02/21.
//

import Foundation

enum MonsterPatterns {
    static let gridSize = 16

    /// アニメーションなし。常に1コマ。
    static func frameCount(for monsterId: Int) -> Int {
        return 1
    }

    /// モンスターIDで16x16パターンを返す。frameは未使用（アニメなし）。
    static func pattern(for monsterId: Int, frame: Int = 0) -> [[Int]] {
        let index = monsterId - 1
        guard index >= 0, index < patterns8.count else {
            return scale8to16(patterns8[0])
        }
        return scale8to16(patterns8[index])
    }

    private static func scale8to16(_ grid8: [[Int]]) -> [[Int]] {
        var result = [[Int]](repeating: [Int](repeating: 0, count: 16), count: 16)
        for r in 0..<8 {
            for c in 0..<8 {
                let v = grid8[r][c]
                result[r * 2][c * 2] = v
                result[r * 2][c * 2 + 1] = v
                result[r * 2 + 1][c * 2] = v
                result[r * 2 + 1][c * 2 + 1] = v
            }
        }
        return result
    }

    // MARK: - 8x8 パターン（id 1-15、表示時に16x16に拡大。あとでイメージ画像から差し替え可能）

    private static let patterns8: [[[Int]]] = [
        // 1: スライムン
        [
            [0,0,0,1,1,0,0,0], [0,0,1,2,2,1,0,0], [0,1,2,3,3,2,1,0], [0,1,2,1,1,2,1,0],
            [1,2,2,2,2,2,2,1], [1,2,2,2,2,2,2,1], [0,1,2,2,2,2,1,0], [0,0,1,1,1,1,0,0],
        ],
        // 2: コケモス
        [
            [0,0,1,1,1,1,0,0], [0,1,2,2,2,2,1,0], [1,2,3,2,2,3,2,1], [1,2,2,2,2,2,2,1],
            [1,2,1,2,2,1,2,1], [0,1,2,2,2,2,1,0], [0,1,0,1,1,0,1,0], [0,1,0,0,0,0,1,0],
        ],
        // 3: ドクキノ
        [
            [0,0,0,1,1,0,0,0], [0,0,1,2,2,1,0,0], [0,1,3,2,3,2,1,0], [1,2,2,3,2,2,3,1],
            [1,1,1,1,1,1,1,1], [0,0,1,2,2,1,0,0], [0,0,1,2,2,1,0,0], [0,1,1,1,1,1,1,0],
        ],
        // 4: ヤミネコ
        [
            [0,1,0,0,0,0,1,0], [1,2,1,0,0,1,2,1], [1,2,2,1,1,2,2,1], [1,3,2,2,2,2,3,1],
            [1,2,1,2,2,1,2,1], [0,1,2,2,2,2,1,0], [0,0,1,2,2,1,0,0], [0,1,0,1,1,0,1,0],
        ],
        // 5: イシゴーレム
        [
            [0,1,1,1,1,1,1,0], [1,2,2,2,2,2,2,1], [1,3,1,2,2,1,3,1], [1,2,2,2,2,2,2,1],
            [1,2,2,1,1,2,2,1], [0,1,2,2,2,2,1,0], [1,1,0,1,1,0,1,1], [1,0,0,1,1,0,0,1],
        ],
        // 6: カゲバット
        [
            [1,0,0,0,0,0,0,1], [1,1,0,0,0,0,1,1], [1,2,1,1,1,1,2,1], [1,2,3,2,2,3,2,1],
            [0,1,2,2,2,2,1,0], [0,0,1,2,2,1,0,0], [0,0,0,1,1,0,0,0], [0,0,0,0,0,0,0,0],
        ],
        // 7: リュウジン
        [
            [0,1,0,0,0,0,1,0], [1,2,1,1,1,1,2,1], [0,1,3,2,2,3,1,0], [0,1,2,2,2,2,1,0],
            [1,1,2,1,1,2,1,1], [0,1,2,2,2,2,1,0], [0,1,0,1,1,0,1,0], [0,1,0,0,0,0,1,0],
        ],
        // 8: ヒノトリ
        [
            [0,0,0,1,1,0,0,0], [0,0,1,3,3,1,0,0], [0,1,3,2,2,3,1,0], [1,2,3,1,1,3,2,1],
            [1,2,2,2,2,2,2,1], [0,1,2,2,2,2,1,0], [1,0,1,0,0,1,0,1], [0,0,0,1,1,0,0,0],
        ],
        // 9: コオリオオカミ
        [
            [0,1,0,0,0,0,1,0], [1,3,1,0,0,1,3,1], [1,2,2,1,1,2,2,1], [0,1,3,2,2,3,1,0],
            [0,1,2,1,1,2,1,0], [0,0,1,2,2,1,0,0], [0,1,0,1,1,0,1,0], [1,0,0,0,0,0,0,1],
        ],
        // 10: マジンガ
        [
            [0,0,1,1,1,1,0,0], [0,1,3,3,3,3,1,0], [1,3,1,3,3,1,3,1], [0,1,3,3,3,3,1,0],
            [0,1,2,1,1,2,1,0], [1,2,2,2,2,2,2,1], [0,1,0,1,1,0,1,0], [0,1,0,0,0,0,1,0],
        ],
        // 11: ゲンブ
        [
            [0,0,0,1,1,0,0,0], [0,0,1,2,2,1,0,0], [0,1,1,1,1,1,1,0], [1,2,3,2,2,3,2,1],
            [1,2,2,1,1,2,2,1], [1,2,1,2,2,1,2,1], [0,1,2,2,2,2,1,0], [1,0,1,1,1,1,0,1],
        ],
        // 12: スザク
        [
            [0,0,1,0,0,1,0,0], [0,1,3,1,1,3,1,0], [1,3,2,3,3,2,3,1], [1,2,3,1,1,3,2,1],
            [0,1,2,2,2,2,1,0], [1,0,1,2,2,1,0,1], [0,0,0,1,1,0,0,0], [0,0,1,0,0,1,0,0],
        ],
        // 13: ダークロード
        [
            [0,1,1,1,1,1,1,0], [1,3,3,3,3,3,3,1], [1,2,1,2,2,1,2,1], [1,2,2,1,1,2,2,1],
            [0,1,2,2,2,2,1,0], [1,1,2,2,2,2,1,1], [1,0,1,0,0,1,0,1], [1,0,0,0,0,0,0,1],
        ],
        // 14: バハムート
        [
            [0,0,0,1,1,1,0,0], [0,0,1,3,3,3,1,0], [0,1,3,2,2,2,3,1], [1,2,2,2,3,2,2,1],
            [1,2,2,2,2,2,2,1], [1,2,1,2,2,1,2,1], [0,1,2,2,2,2,1,0], [0,0,1,1,1,1,0,0],
        ],
        // 15: オーディン
        [
            [0,0,0,1,1,1,0,0], [0,0,1,3,3,3,1,0], [0,1,3,1,3,1,3,1], [1,2,2,2,2,2,2,1],
            [1,2,2,1,1,2,2,1], [0,1,2,2,2,2,1,0], [0,1,0,1,1,0,1,0], [1,0,0,0,0,0,0,1],
        ],
    ]
}
